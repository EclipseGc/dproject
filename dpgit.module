<?php
// $Id$

function dpgit_dproject_packager() {
  return array(
    'git' => array(
      'type' => 'cvs',
      'configuration form' => '_dpgit_configure_source',
      'configuration submit' => '_dpgit_configure_source',
      'update callback' => '_dpgit_pull',
      'package callback' => '_dpgit_package',
      'sources' => array(
        'branches' => array(
          'title' => t('Branches'),
          'callback' => '_dpgit_branches',
          'configuration' => '_dpgit_select_branch_commit',
        ),
        'tags' => array(
          'title' => t('Tags'),
          'callback' => '_dpgit_tags',
        ),
      ),
    ),
  )
}

function _dpgit_configure_source() {
  $form = array();
  $form['git_source'] = array(
    '#type' => 'textfield',
    '#title' => t('The url or path to the git repository'),
  );
  return $form; 
}

function _dpgit_branches() {
  exec()
}

function _dpgit_select_branch_commit($branch) {
  
}

function _dpgit_tags($branch) {
  
}
